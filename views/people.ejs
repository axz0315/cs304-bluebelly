<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Node Starter</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
    <h1><%= name %></h1>
    <h3></h2><%= username %></h3>
    <p>Member since <%= joinDate %></p>
    <button> Edit Profile</button>
    <button> Share Profile</button>

    <p><%= numFollowers %> Followers</p>
    <p><%= numFollowing %> Following</p>


    <h2>Recent Activity</h2>

    <ol>
        <% list.forEach( (elt) => {%>
        <li><%= elt %></li>
        <% }); %>
    </ol>


    <h2>Recent Activity</h2>

    <ol>
        <% list.forEach((activity) => { %>
            <li class="restaurant">
                <div class="user-info">
                    <img src="<%= activity.profilePicture %>" alt="User Profile Picture" class="profile-picture">
                    <span class="username"><%= activity.username %></span>
                </div>

                <p><%= activity.username %> ranked <strong><%= activity.restaurantName %></strong> with a rating of <strong><%= activity.rank %></strong></p>
                <p>Location: <%= activity.restaurantLocation %></p>

                <div class="restaurant-images-by-user">
                    <% activity.images.forEach((image) => { %>
                        <img src="<%= image %>" alt="Uploaded Image" class="uploaded-img">
                    <% }) %>
                </div>

                <div class="actions">
                    <button class="like-button">Like</button>
                    <button class="comment-button">Comment</button>
                    <button class="share-button">Share</button>
                </div>
            </li>
        <% }); %>
    </ol>

    <!-- load local js -->
    <script src="/main.js"></script>
    <script>
        var uid = "<%= uid %>";
        if(uid !== 'unknown') {
            $("#logged-in").show();
            $("#not-logged-in").hide();
        } else {
            $("#logged-in").hide();
            $("#not-logged-in").show();
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Profile</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<h1>My Reviews</h1>

<h2>Logged in as @<%= user %>.</h2>

<a href="/review.html">Want to expand your profile? Submit a review!</a>

<body>
    <% reviews.forEach((review) => { %>
            <div class="review">
                <h2><%= review.restaurant %></h2>
                <p>Location: <%= review.address %></p>
                <p><%= review.user %>'s rating: </p>
                <% for(i=0; i<review.rating ; i++) { %>
                    <span>★</span>
                <% } %>
                <% for(i=0; i<(5-review.rating); i++) { %>
                    <span>☆</span>
                <% } %>
                <span>(<%= review.rating %>/5)</span>
                
                <p><%= review.text %></p>

                <button type="submit" action="/review/edit/">Edit</button>

                <form method="POST" action="/review/delete/:<%= review._id %>">
                    <button type="submit">Delete</button>
                </form>
            </div>
    <% }); %>

    <!-- load local js -->
    <script src="/server.js"></script>
</body>
</html>
